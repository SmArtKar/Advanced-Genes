<?xml version="1.0" encoding="UTF-8" ?>

<Patch>
    
    <!-- Ageless exclusion -->
    <Operation Class="PatchOperationConditional">
        <xpath>Defs/GeneDef[defName="Ageless"]/exclusionTags</xpath>
        <nomatch Class="PatchOperationAdd">
            <xpath>Defs/GeneDef[defName="Ageless"]</xpath>
            <value>
                <exclusionTags>
                    <li>AG_Exclusion_Ageless</li>
                </exclusionTags>
            </value>
        </nomatch>

        <match Class="PatchOperationAdd">
            <xpath>Defs/GeneDef[defName="Ageless"]/exclusionTags</xpath>
            <value>
                <li>AG_Exclusion_Ageless</li>
            </value>
        </match>
    </Operation>

    <!-- Deathless exclusion -->
    <Operation Class="PatchOperationConditional">
        <xpath>Defs/GeneDef[defName="Deathless"]/exclusionTags</xpath>
        <nomatch Class="PatchOperationAdd">
            <xpath>Defs/GeneDef[defName="Deathless"]</xpath>
            <value>
                <exclusionTags>
                    <li>AG_Exclusion_Deathless</li>
                </exclusionTags>
            </value>
        </nomatch>
        
        <match Class="PatchOperationAdd">
            <xpath>Defs/GeneDef[defName="Deathless"]/exclusionTags</xpath>
            <value>
                <li>AG_Exclusion_Deathless</li>
            </value>
        </match>
    </Operation>

    <!-- Fire resistance exclusion -->
    <Operation Class="PatchOperationConditional">
        <xpath>Defs/GeneDef[defName="FireResistant"]/exclusionTags</xpath>
        <nomatch Class="PatchOperationAdd">
            <xpath>Defs/GeneDef[defName="FireResistant"]</xpath>
            <value>
                <exclusionTags>
                    <li>AG_Exclusion_FireResist</li>
                </exclusionTags>
            </value>
        </nomatch>

        <match Class="PatchOperationAdd">
            <xpath>Defs/GeneDef[defName="FireResistant"]/exclusionTags</xpath>
            <value>
                <li>AG_Exclusion_FireResist</li>
            </value>
        </match>
    </Operation>

    <!-- Xenogerm Implanter exclusion -->
    <Operation Class="PatchOperationConditional">
        <xpath>Defs/GeneDef[defName="XenogermReimplanter"]/exclusionTags</xpath>
        <nomatch Class="PatchOperationAdd">
            <xpath>Defs/GeneDef[defName="XenogermReimplanter"]</xpath>
            <value>
                <exclusionTags>
                    <li>AG_Exclusion_DNAChanger</li>
                </exclusionTags>
            </value>
        </nomatch>

        <match Class="PatchOperationAdd">
            <xpath>Defs/GeneDef[defName="XenogermReimplanter"]/exclusionTags</xpath>
            <value>
                <li>AG_Exclusion_DNAChanger</li>
            </value>
        </match>
    </Operation>

    <!-- Clotting exclusion -->
    <Operation Class="PatchOperationConditional">
        <xpath>Defs/GeneDef[defName="Superclotting"]/exclusionTags</xpath>
        <nomatch Class="PatchOperationAdd">
            <xpath>Defs/GeneDef[defName="Superclotting"]</xpath>
            <value>
                <exclusionTags>
                    <li>AG_Exclusion_Clotting</li>
                </exclusionTags>
            </value>
        </nomatch>

        <match Class="PatchOperationAdd">
            <xpath>Defs/GeneDef[defName="Superclotting"]/exclusionTags</xpath>
            <value>
                <li>AG_Exclusion_Clotting</li>
            </value>
        </match>
    </Operation>

    <!--

    <Operation Class="PatchOperationConditional">
        <xpath>Defs/GeneDef[defName="Resurrect"]</xpath>
        <nomatch Class="PatchOperationAdd">
            <xpath>Defs</xpath>
            <value>
                <GeneDef>
                    <defName>Resurrect</defName>
                    <label>resurrect</label>
                    <description>Carriers have a reserve of unique resurrector archites which can infuse a corpse, rebuild degenerated tissue and kickstart the vital processes. This brings the dead back to life - though possibly with health issues. This can only be done very rarely, and comes at a steep hemogen cost.</description>
                    <iconPath>UI/Icons/Genes/Gene_Resurrect</iconPath>
                    <prerequisite>Hemogenic</prerequisite>
                    <displayCategory>Archite</displayCategory>
                    <marketValueFactor>1.5</marketValueFactor>
                    <abilities>
                        <li>Resurrect</li>
                    </abilities>
                    <descriptionHyperlinks>
                        <AbilityDef>Resurrect</AbilityDef>
                    </descriptionHyperlinks>
                    <biostatCpx>4</biostatCpx>
                    <biostatArc>1</biostatArc>
                    <minAgeActive>3</minAgeActive>
                    <symbolPack>
                    <wholeNameSymbols>
                        <li><symbol>resurrector</symbol></li>
                    </wholeNameSymbols>
                    <prefixSymbols>
                        <li><symbol>life</symbol></li>
                    </prefixSymbols>
                    </symbolPack>
                </GeneDef>
            </value>
        </nomatch>
    </Operation>-->

</Patch>